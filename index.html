<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>DNRstore - Toko</title>
<link rel="stylesheet" href="style.css">
<style>
  /* ==== Popup Pengumuman ==== */
  .announcement-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
  }
  .announcement-box {
    background: #0b1d33;
    color: #fff;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(255,255,255,0.2);
    animation: fadeIn .4s ease;
  }
  .announcement-box h2 {
    text-align: center;
    margin-bottom: 10px;
  }
  .announcement-box ul {
    padding-left: 18px;
    font-size: 14px;
  }
  .announcement-box button {
    margin-top: 15px;
    width: 100%;
    padding: 10px;
    background: #1e90ff;
    border: none;
    color: #fff;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
  }
  @keyframes fadeIn {
    from {opacity: 0; transform: scale(0.95);}
    to {opacity: 1; transform: scale(1);}
  }
</style>
</head>
<body>
  <header class="topbar">
    <button id="menuBtn" class="hamburger">â˜°</button>
    <h1>DNRstore</h1>
  </header>

  <main class="container">
    <section class="categories">
      <h2>Kategori</h2>
      <div class="cats">
        <div class="cat-card" data-type="akun">
          <h3>Akun</h3>
          <p>4 Pilihan</p>
          <a class="btn" href="products.html?type=akun">Lihat</a>
        </div>
        <div class="cat-card" data-type="secret">
          <h3>Secret</h3>
          <p>4 Pilihan</p>
          <a class="btn" href="products.html?type=secret">Lihat</a>
        </div>
        <div class="cat-card" data-type="koin">
          <h3>Koin</h3>
          <p>1 Pilihan</p>
          <a class="btn" href="products.html?type=koin">Lihat</a>
        </div>
      </div>
    </section>

    <section class="featured">
      <h2>Produk Populer</h2>
      <div id="productsGrid" class="grid"></div>
    </section>
  </main>

  <!-- === Popup Pengumuman === -->
  <div class="announcement-popup" id="announcementPopup" style="display:none;">
    <div class="announcement-box">
      <h2>ðŸ“¢ Pengumuman DNRstore</h2>
      <ul id="announcementList"></ul>
      <button onclick="closeAnnouncement()">Saya Paham</button>
    </div>
  </div>

  <script>
    // ===== Produk =====
    const PRODUCTS = [
      {id:'akun-1', category:'akun', title:'Akun ghosfin 1', price:45000},
      {id:'akun-2', category:'akun', title:'Akun ares 2', price:65000},
      {id:'secret-1', category:'secret', title:'Secret Server 1', price:25000},
      {id:'secret-2', category:'secret', title:'Secret Server 2', price:35000},
      {id:'koin-1', category:'koin', title:'Koin 1000', price:15000}
    ];

    const grid = document.getElementById('productsGrid');
    PRODUCTS.slice(0,4).forEach(p=>{
      const el = document.createElement('div');
      el.className = 'card';
      el.innerHTML = `
        <h3>${p.title}</h3>
        <p class="price">Rp${p.price.toLocaleString()}</p>
        <a class="btn" href="checkout.html?pid=${encodeURIComponent(p.id)}">Beli</a>
      `;
      grid.appendChild(el);
    });

    // ===== Pengumuman =====
    async function loadAnnouncements() {
      try {
        const res = await fetch('announcement.json');
        const data = await res.json();
        const list = document.getElementById('announcementList');
        list.innerHTML = data.map(item =>
          `<li><strong>${item.date}</strong> - ${item.message}</li>`
        ).join('');
        document.getElementById('announcementPopup').style.display = 'flex';
      } catch (err) {
        console.error('Gagal memuat pengumuman:', err);
      }
    }

    function closeAnnouncement() {
      document.getElementById('announcementPopup').style.display = 'none';
    }

    loadAnnouncements();
  </script>
</body>
</html>

